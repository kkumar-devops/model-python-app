apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "clinical-ai-prefect.configMapName" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "clinical-ai-prefect.labels" . | nindent 4 }}
data:
  prefect-api-url: {{ include "clinical-ai-prefect.apiUrl" . | quote }}
  # Flow Server removed - manual triggers now use Prefect API
  storage-environment: {{ .Values.config.storageEnvironment | quote }}
  {{- if eq .Values.config.storageEnvironment "production" }}
  aws-region: {{ .Values.config.aws.region | quote }}
  {{- else }}
  minio-endpoint: {{ .Values.config.minio.endpoint | quote }}
  {{- end }}

